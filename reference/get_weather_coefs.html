<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate weather coefficients — get_weather_coefs • epiphytoolR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate weather coefficients — get_weather_coefs"><meta name="description" content="Calculate weather coefficients"><meta property="og:description" content="Calculate weather coefficients"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epiphytoolR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate weather coefficients</h1>

      <div class="d-none name"><code>get_weather_coefs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate weather coefficients</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_weather_coefs</span><span class="op">(</span></span>
<span>  <span class="va">raw_bom_file</span>,</span>
<span>  rolling_window <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  <span class="va">meta_data</span>,</span>
<span>  i_year <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>  rainfall_na_fill <span class="op">=</span> <span class="st">"mean"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-raw-bom-file">raw_bom_file<a class="anchor" aria-label="anchor" href="#arg-raw-bom-file"></a></dt>
<dd><p>character, file path to raw bureau of Meteorology txt file</p></dd>


<dt id="arg-rolling-window">rolling_window<a class="anchor" aria-label="anchor" href="#arg-rolling-window"></a></dt>
<dd><p>integer, number of days to summarise over a rolling window</p></dd>


<dt id="arg-meta-data">meta_data<a class="anchor" aria-label="anchor" href="#arg-meta-data"></a></dt>
<dd><p>data.table Bureau of Meteorology, meta-data</p></dd>


<dt id="arg-i-year">i_year<a class="anchor" aria-label="anchor" href="#arg-i-year"></a></dt>
<dd><p>integer, the year the coeffients are likely to be imputed. Defaults
to <code>2020</code></p></dd>


<dt id="arg-rainfall-na-fill">rainfall_na_fill<a class="anchor" aria-label="anchor" href="#arg-rainfall-na-fill"></a></dt>
<dd><p>numeric proportion, likihood of rain to fill NA values
Defaults to rainfall_na_fill = "mean", which takes the overall mean proportion.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data.table, of coefficients to estimate weather during a rainfall event.
If no rainfall data is recorded in the raw weather NULL is returned without
warning.
wd_rw, mean wind direction from rolling window;
wd_sd_rw, standard deviation of wind direction from rolling window;
ws_rw, mean wind speed from rolling window;
ws_sd_rw, standard deviation of speed from rolling window;
rain_freq, historical probability of rainfall on this day based on a rolling
window.</p>
<p>A <code>data.table</code> of coefficients to estimate weather during a rainfall event.
If no rainfall data is recorded in the raw weather NULL is returned without
warning.
<em>station_name</em> - Weather station name;
<em>lat</em> - latitude;
<em>lon</em> - longitude;
<em>state</em> - political juristiction or state;
<em>yearday</em> - integer, day of the year, see <code><a href="https://rdatatable.gitlab.io/data.table/reference/IDateTime.html" class="external-link">data.table::yday()</a></code>;
<em>temp</em> - numeric, mean temperature;
<em>rh</em> - numeric, mean temperature;
<em>wd_rd</em> - numeric, mean wind direction from rolling window;
<em>wd_sd_rd</em> - numeric, standard deviation of wind direction from rolling window;
<em>ws_rd</em> - numeric, mean wind speed from rolling window;
<em>ws_sd_rd</em> - numeric, standard deviation of speed from rolling window;
<em>rain_freq</em> - numeric, proportional chance of rainfall on this day 0 - 1 based
on a rolling window.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>get_weather_coefs uses historical bom rainfall data to determine the probability of
rainfall on each day of the year. It also summarises the mean temperatures,
wind speed and direction at the time of the rainfall.
Formally called impute_rainywind</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">meta_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="st">"cache/bom_stations.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">imp_dat</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="fu">get_weather_coefs</span><span class="op">(</span>raw_bom_file <span class="op">=</span> <span class="st">"./data/Weather_data/HD01D_Data_090182_999999999959761.txt"</span>,</span></span>
<span class="r-in"><span>                    rolling_window <span class="op">=</span> <span class="fl">60</span>,</span></span>
<span class="r-in"><span>                    meta_data <span class="op">=</span> <span class="va">meta_dat</span><span class="op">)</span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Melloy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

